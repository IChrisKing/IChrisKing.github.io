<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>IChrisKing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="IChrisKing">
<meta property="og:url" content="http://yoursite.com/page/6/index.html">
<meta property="og:site_name" content="IChrisKing">
<meta property="og:locale" content="zh-Hant-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IChrisKing">
  
    <link rel="alternate" href="/atom.xml" title="IChrisKing" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">IChrisKing</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">#IMNOTCHRISLEE</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Android-TouchEvent" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/24/Android-TouchEvent/" class="article-date">
  <time datetime="2016-08-24T12:31:03.000Z" itemprop="datePublished">2016-08-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>►<a class="article-category-link" href="/categories/Android/Android开发工程师/">Android开发工程师</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/24/Android-TouchEvent/">Android事件分发机制</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://www.jianshu.com/p/e99b5e8bd67b" target="_blank" rel="external">原文链接</a></p>
<h2 id="ACTION-DOWN的传递过程"><a href="#ACTION-DOWN的传递过程" class="headerlink" title="ACTION_DOWN的传递过程"></a>ACTION_DOWN的传递过程</h2><h3 id="ACTION-DOWN的传递图"><a href="#ACTION-DOWN的传递图" class="headerlink" title="ACTION_DOWN的传递图"></a>ACTION_DOWN的传递图</h3><p><img src="/assets/img/Android-TouchEvent/touch_event_1.png" alt="image"></p>
<p>这张图中的true，false，super是指函数的返回值。</p>
<p>传递过程经过三个层次：activity -&gt; viewgroup -&gt; view</p>
<p>对于每一层的分发函数dispatchTouchEvent和响应函数onTouchEvent来说：</p>
<ol>
<li>返回true：消费掉该事件，不再向下一层传递。</li>
<li>返回false：开始回溯，把它递交给上一层的onTouchEvent</li>
<li>返回super：按照默认的流程传递事件</li>
</ol>
<p>对于onInterceptTouchEvent来说：</p>
<p>它本身是一个拦截装置，相当于给viewgroup一个跳过下层viewgroup和view，直接将事件递交给本层onTouchEvent的机会。</p>
<ol>
<li>返回true：递交给本层的onTouchEvent</li>
<li>返回false：不做拦截，按照默认的流程传递事件</li>
<li>返回super：按照默认的流程传递事件</li>
</ol>
<h3 id="默认的传递过程图"><a href="#默认的传递过程图" class="headerlink" title="默认的传递过程图"></a>默认的传递过程图</h3><p><img src="/assets/img/Android-TouchEvent/touch_event_super.png" alt="image"></p>
<p>所有函数的默认实现就是返回super，也就是按照默认的流程，将事件依次传递给所有相关的函数。这个传递过程是一个U型的方向。</p>
<h3 id="onInterceptTouchEvent方法"><a href="#onInterceptTouchEvent方法" class="headerlink" title="onInterceptTouchEvent方法"></a>onInterceptTouchEvent方法</h3><p><img src="/assets/img/Android-TouchEvent/touch_event_onInterceptTouchEvent.png" alt="image"><br>这个方法是viewgroup独有的。每个viewgroup进行事件分发的时候，会先调用onInterceptTouchEvent方法，问一问拦截器，是否需要将这个事件拦截下来，递交给本层的onTouchEvent来处理。如果要自己处理那就在onInterceptTouchEvent方法中 return true就会交给本层的onTouchEvent的处理，如果不拦截就是继续往下传。默认是不会去拦截的，因为子View也需要这个事件，所以onInterceptTouchEvent拦截器return super.onInterceptTouchEvent()和return false是一样的，是不会拦截的，事件会继续往子View的dispatchTouchEvent传递。</p>
<h2 id="ACTION-MOVE和ACTION-UP的传递过程"><a href="#ACTION-MOVE和ACTION-UP的传递过程" class="headerlink" title="ACTION_MOVE和ACTION_UP的传递过程"></a>ACTION_MOVE和ACTION_UP的传递过程</h2><p>ACTION_MOVE和ACTION_UP的传递过程，和ACTION_DOWM事件被消费掉的函数所处的层有关。</p>
<p>下列图中，红色箭头代表</p>
<p>红色的箭头代表ACTION_DOWN 事件的流向</p>
<p>蓝色的箭头代表ACTION_MOVE 和 ACTION_UP 事件的流向<br><img src="/assets/img/Android-TouchEvent/move-up-1.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-2.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-3.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-4.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-5.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-6.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-7.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-8.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-9.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-10.png" alt="image"><br><img src="/assets/img/Android-TouchEvent/move-up-11.png" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/24/Android-TouchEvent/" data-id="cje6pjw0b0004weyxcowjr7hi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android开发工程师/">Android开发工程师</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ANR-and-FC" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/23/ANR-and-FC/" class="article-date">
  <time datetime="2016-08-23T13:42:08.000Z" itemprop="datePublished">2016-08-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>►<a class="article-category-link" href="/categories/Android/Android开发工程师/">Android开发工程师</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/23/ANR-and-FC/">ANR与FC</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ANR-Application-Not-Responding"><a href="#ANR-Application-Not-Responding" class="headerlink" title="ANR(Application Not Responding)"></a>ANR(Application Not Responding)</h2><h3 id="引起ANR的直接原因"><a href="#引起ANR的直接原因" class="headerlink" title="引起ANR的直接原因"></a>引起ANR的直接原因</h3><ol>
<li><p>KeyDispatchTimeout(5 seconds) –主要类型按键或触摸事件在特定时间内无响应</p>
</li>
<li><p>BroadcastTimeout(10 seconds) –BroadcastReceiver在特定时间内无法处理完成</p>
</li>
<li><p>ServiceTimeout(20 seconds) –小概率类型 Service在特定的时间内无法处理完成</p>
</li>
</ol>
<h3 id="引起ANR的根本原因"><a href="#引起ANR的根本原因" class="headerlink" title="引起ANR的根本原因"></a>引起ANR的根本原因</h3><ol>
<li>UI线程中进行耗时操作，如网络操作，数据库操作，I/O</li>
<li>BroadcastReceiver中进行耗时操作</li>
</ol>
<h3 id="避免ANR的方法"><a href="#避免ANR的方法" class="headerlink" title="避免ANR的方法"></a>避免ANR的方法</h3><ol>
<li>UI线程不做耗时操作，将它们放到单独的线程中处理，并使用Handler来处理UIThread和耗时Thread之间的交互。耗时操作处理完成之后，通过handler.sendMessage()传递处理结果，在handler的handleMessage()方法中更新UI，或者使用handler.post()方法将消息放到Looper中</li>
</ol>
<ol>
<li>使用AsyncTask，在doInBackground()方法中执行耗时操作，在onPostExecuted()更新UI</li>
</ol>
<h3 id="排查ANR的方法"><a href="#排查ANR的方法" class="headerlink" title="排查ANR的方法"></a>排查ANR的方法</h3><ol>
<li>分析log</li>
<li>从trace.txt文件查看调用stack，adb pull data/anr/traces.txt ./mytraces.txt</li>
<li>看代码</li>
<li>仔细查看ANR的成因(iowait?block?memoryleak?)</li>
</ol>
<h2 id="FC（Force-Close）"><a href="#FC（Force-Close）" class="headerlink" title="FC（Force Close）"></a>FC（Force Close）</h2><h3 id="引起FC的原因"><a href="#引起FC的原因" class="headerlink" title="引起FC的原因"></a>引起FC的原因</h3><ol>
<li>Error</li>
<li>OOM,内存溢出</li>
<li>StackOverFlowError</li>
<li>Runtime,比如NullPointExection，Class Not Found</li>
</ol>
<h3 id="避免弹出Force-Close窗口的方法"><a href="#避免弹出Force-Close窗口的方法" class="headerlink" title="避免弹出Force Close窗口的方法"></a>避免弹出Force Close窗口的方法</h3><p>实现Thread.UncaughtExceptionHandler接口的uncaughtException方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">import java.lang.Thread.UncaughtExceptionHandler;</div><div class="line">import android.app.Application;</div><div class="line">public class MyApplication extends Application implements UncaughtExceptionHandler &#123;</div><div class="line">@Override</div><div class="line">public void onCreate() &#123;</div><div class="line">  // TODO Auto-generated method stub</div><div class="line">  super.onCreate();</div><div class="line">&#125;</div><div class="line"></div><div class="line">@Override</div><div class="line">public void uncaughtException(Thread thread, Throwable ex) &#123;</div><div class="line">  thread.setDefaultUncaughtExceptionHandler( this);  </div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="OOM"><a href="#OOM" class="headerlink" title="OOM"></a>OOM</h2><p>OutOfMemoryError异常</p>
<p>除了程序计数器外，虚拟机内存的其他几个运行时区域都有发生OutOfMemoryError(OOM)异常的可能，</p>
<h3 id="Java-Heap-溢出"><a href="#Java-Heap-溢出" class="headerlink" title="Java Heap 溢出"></a>Java Heap 溢出</h3><p>一般的异常信息：java.lang.OutOfMemoryError:Java heap spacess</p>
<p>java堆用于存储对象实例，我们只要不断的创建对象，并且保证GC Roots到对象之间有可达路径来避免垃圾回收机制清除这些对象，就会在对象数量达到最大堆容量限制后产生内存溢出异常。</p>
<p>出现这种异常，一般手段是先通过内存映像分析工具(如Eclipse Memory Analyzer)对dump出来的堆转存快照进行分析，重点是确认内存中的对象是否是必要的，先分清是因为内存泄漏(Memory Leak)还是内存溢出(Memory Overflow)。</p>
<p>如果是内存泄漏，可进一步通过工具查看泄漏对象到GC Roots的引用链。于是就能找到泄漏对象时通过怎样的路径与GC Roots相关联并导致垃圾收集器无法自动回收。</p>
<p>如果不存在泄漏，那就应该检查虚拟机的参数(-Xmx与-Xms)的设置是否适当。</p>
<h3 id="虚拟机栈和本地方法栈溢出"><a href="#虚拟机栈和本地方法栈溢出" class="headerlink" title="虚拟机栈和本地方法栈溢出"></a>虚拟机栈和本地方法栈溢出</h3><p>如果线程请求的栈深度大于虚拟机所允许的最大深度，将抛出StackOverflowError异常。</p>
<p>如果虚拟机在扩展栈时无法申请到足够的内存空间，则抛出OutOfMemoryError异常</p>
<p>这里需要注意当栈的大小越大可分配的线程数就越少。</p>
<h3 id="运行时常量池溢出"><a href="#运行时常量池溢出" class="headerlink" title="运行时常量池溢出"></a>运行时常量池溢出</h3><p>异常信息：java.lang.OutOfMemoryError:PermGen space</p>
<p>如果要向运行时常量池中添加内容，最简单的做法就是使用String.intern()这个Native方法。该方法的作用是：如果池中已经包含一个等于此String的字符串，则返回代表池中这个字符串的String对象；否则，将此String对象包含的字符串添加到常量池中，并且返回此String对象的引用。由于常量池分配在方法区内，我们可以通过-XX:PermSize和-XX:MaxPermSize限制方法区的大小，从而间接限制其中常量池的容量。</p>
<h3 id="方法区溢出"><a href="#方法区溢出" class="headerlink" title="方法区溢出"></a>方法区溢出</h3><p>方法区用于存放Class的相关信息，如类名、访问修饰符、常量池、字段描述、方法描述等。</p>
<p>异常信息：java.lang.OutOfMemoryError:PermGen space</p>
<p>方法区溢出也是一种常见的内存溢出异常，一个类如果要被垃圾收集器回收，判定条件是很苛刻的。在经常动态生成大量Class的应用中，要特别注意这点。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/23/ANR-and-FC/" data-id="cje6pjw070002weyxrwcnfsyv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android开发工程师/">Android开发工程师</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android-performance-optimization" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/23/Android-performance-optimization/" class="article-date">
  <time datetime="2016-08-23T11:12:15.000Z" itemprop="datePublished">2016-08-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>►<a class="article-category-link" href="/categories/Android/Android开发工程师/">Android开发工程师</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/23/Android-performance-optimization/">Android性能优化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/GeniusVJR/LearningNotes/blob/master/Part1/Android/Android%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.md" target="_blank" rel="external">原文地址</a></p>
<h3 id="管理内存"><a href="#管理内存" class="headerlink" title="管理内存"></a>管理内存</h3><h4 id="IntentService-代替-Service"><a href="#IntentService-代替-Service" class="headerlink" title="IntentService 代替 Service"></a>IntentService 代替 Service</h4><p>使用IntentService，当后台任务执行结束后会自动停止，避免了Service的内存泄漏</p>
<h4 id="界面不可见时释放内存"><a href="#界面不可见时释放内存" class="headerlink" title="界面不可见时释放内存"></a>界面不可见时释放内存</h4><p>重写Activity的onTrimMemory()方法，然后在这个方法中监听TRIM_MEMORY_UI_HIDDEN这个级别，一旦触发说明用户离开了程序，此时就可以进行资源释放操作了。</p>
<h4 id="使用SparseArray系列"><a href="#使用SparseArray系列" class="headerlink" title="使用SparseArray系列"></a>使用SparseArray系列</h4><p>使用SparseArray，SparseBooleanArray、LongSparseArray等代替HashMap<integer,object></integer,object></p>
<p>HashMap工具类会相对比较低效，因为它需要为每一个键值对都提供一个对象入口，而SparseArray就避免掉了基本数据类型转换成对象数据类型的时间。</p>
<h4 id="谨慎使用多进程"><a href="#谨慎使用多进程" class="headerlink" title="谨慎使用多进程"></a>谨慎使用多进程</h4><p>多进程比较适用于哪些需要在后台去完成一项独立的任务，和前台是完全可以区分开的场景。比如音乐播放，关闭软件，已经完全由Service来控制音乐播放了，系统仍然会将许多UI方面的内存进行保留。在这种场景下就非常适合使用两个进程，一个用于UI展示，另一个用于在后台持续的播放音乐。关于实现多进程，只需要在Manifast文件的应用程序组件声明一个android:process属性就可以了。进程名可以自定义，但是之前要加个冒号，表示该进程是一个当前应用程序的私有进程。</p>
<h3 id="分析内存使用情况"><a href="#分析内存使用情况" class="headerlink" title="分析内存使用情况"></a>分析内存使用情况</h3><h4 id="获取手机堆大小"><a href="#获取手机堆大小" class="headerlink" title="获取手机堆大小"></a>获取手机堆大小</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ActivityManager manager = (ActivityManager)getSystemService(Context.ACTIVITY_SERVICE);</div><div class="line">int heapSize = manager.getMemoryClass();</div></pre></td></tr></table></figure>
<p>结果以MB为单位进行返回，我们开发时应用程序的内存不能超过这个限制，否则会出现OOM。</p>
<h4 id="GC操作及内存泄漏"><a href="#GC操作及内存泄漏" class="headerlink" title="GC操作及内存泄漏"></a>GC操作及内存泄漏</h4><h3 id="编码优化"><a href="#编码优化" class="headerlink" title="编码优化"></a>编码优化</h3><h4 id="换掉String"><a href="#换掉String" class="headerlink" title="换掉String"></a>换掉String</h4><p>如果有需要拼接的字符串，那么可以优先考虑使用StringBuffer或者StringBuilder来进行拼接，而不是加号连接符</p>
<p>当一个方法的返回值是String的时候，通常需要去判断一下这个String的作用是什么，如果明确知道调用方会将返回的String再进行拼接操作的话，可以考虑返回一个StringBuffer对象来代替，因为这样可以将一个对象的引用进行返回，而返回String的话就是创建了一个短生命周期的临时对象。</p>
<h4 id="使用基本数据类型"><a href="#使用基本数据类型" class="headerlink" title="使用基本数据类型"></a>使用基本数据类型</h4><p>在没有特殊原因的情况下，尽量使用基本数据类型来代替封装数据类型，int比Integer要更加有效，其它数据类型也是一样。</p>
<p>基本数据类型的数组也要优于对象数据类型的数组。另外两个平行的数组要比一个封装好的对象数组更加高效，举个例子，Foo[]和Bar[]这样的数组，使用起来要比Custom(Foo,Bar)[]这样的一个数组高效的多。</p>
<h4 id="静态代替抽象"><a href="#静态代替抽象" class="headerlink" title="静态代替抽象"></a>静态代替抽象</h4><p>如果并不需要访问一个类中的某些字段，只是想调用它的某些方法来去完成一项通用的功能，那么可以将这个方法设置成静态方法，调用速度提升15%-20%，同时也不用为了调用这个方法去专门创建对象了，也不用担心调用这个方法后是否会改变对象的状态(静态方法无法访问非静态字段)。</p>
<h4 id="对常量使用static-final修饰符"><a href="#对常量使用static-final修饰符" class="headerlink" title="对常量使用static final修饰符"></a>对常量使用static final修饰符</h4><p>这种优化方式只对基本数据类型以及String类型的常量有效，对于其他数据类型的常量是无效的。</p>
<h4 id="正确使用for循环"><a href="#正确使用for循环" class="headerlink" title="正确使用for循环"></a>正确使用for循环</h4><p>首选<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public void for_example() &#123;  </div><div class="line">    int sum = 0;  </div><div class="line">    for (Counter a : mArray) &#123;  </div><div class="line">        sum += a.mCount;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>次选<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public void for_example() &#123;  </div><div class="line">    int sum = 0;  </div><div class="line">    Counter[] localArray = mArray;  </div><div class="line">    int len = localArray.length;  </div><div class="line">    for (int i = 0; i &lt; len; ++i) &#123;  </div><div class="line">        sum += localArray[i].mCount;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="使用系统封装好的API"><a href="#使用系统封装好的API" class="headerlink" title="使用系统封装好的API"></a>使用系统封装好的API</h4><p>如：实现数组拷贝的功能，使用循环的方式来对数组中的每一个元素一一进行赋值当然可行，但是直接使用系统中提供的System.arraycopy()方法会让执行效率快9倍以上。</p>
<h4 id="避免在内部调用Getters-Setters方法"><a href="#避免在内部调用Getters-Setters方法" class="headerlink" title="避免在内部调用Getters/Setters方法"></a>避免在内部调用Getters/Setters方法</h4><h3 id="布局优化"><a href="#布局优化" class="headerlink" title="布局优化"></a>布局优化</h3><h4 id="重用布局文件"><a href="#重用布局文件" class="headerlink" title="重用布局文件"></a>重用布局文件</h4><p>标签可以允许在一个布局当中引入另一个布局，那么比如说我们程序的所有界面都有一个公共的部分，这个时候最好的做法就是将这个公共的部分提取到一个独立的布局中，然后每个界面的布局文件当中来引用这个公共的布局。</p>
<h4 id="需要时再加载布局"><a href="#需要时再加载布局" class="headerlink" title="需要时再加载布局"></a>需要时再加载布局</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public void onMoreClick() &#123;  </div><div class="line">    ViewStub viewStub = (ViewStub) findViewById(R.id.view_stub);  </div><div class="line">    if (viewStub != null) &#123;  </div><div class="line">        View inflatedView = viewStub.inflate();  </div><div class="line">        editExtra1 = (EditText) inflatedView.findViewById(R.id.edit_extra1);  </div><div class="line">        editExtra2 = (EditText) inflatedView.findViewById(R.id.edit_extra2);  </div><div class="line">        editExtra3 = (EditText) inflatedView.findViewById(R.id.edit_extra3);  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/23/Android-performance-optimization/" data-id="cje6pjw0e0007weyx2915gsxs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android开发工程师/">Android开发工程师</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-how_to_use_locate_image_file_in_hexo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/23/how_to_use_locate_image_file_in_hexo/" class="article-date">
  <time datetime="2016-08-23T03:03:26.000Z" itemprop="datePublished">2016-08-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hexo/">hexo</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/23/how_to_use_locate_image_file_in_hexo/">如何在hexo中使用本地图片</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="安装相关插件"><a href="#安装相关插件" class="headerlink" title="安装相关插件"></a>安装相关插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install hexo-renderer-pug --save</div><div class="line">npm install hexo-renderer-sass --save</div></pre></td></tr></table></figure>
<h3 id="创建相关目录"><a href="#创建相关目录" class="headerlink" title="创建相关目录"></a>创建相关目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mkdir /path/to/your/blog/source/assets/img/</div></pre></td></tr></table></figure>
<h3 id="打开assets支持"><a href="#打开assets支持" class="headerlink" title="打开assets支持"></a>打开assets支持</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">vim _config.yml</div><div class="line">修改这一行</div><div class="line">post_asset_folder: true</div></pre></td></tr></table></figure>
<h3 id="放置图片文件"><a href="#放置图片文件" class="headerlink" title="放置图片文件"></a>放置图片文件</h3><p>将要使用的图片文件放到/path/to/your/blog/source/assets/img/目录下<br>如head.png</p>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">![image](/assets/img/head.png)</div></pre></td></tr></table></figure>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="/assets/img/head.png" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/23/how_to_use_locate_image_file_in_hexo/" data-id="cje6pjw1g002lweyxq96yvl9c" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-reinstall-hexo-after-reinstall-OS" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/23/reinstall-hexo-after-reinstall-OS/" class="article-date">
  <time datetime="2016-08-23T02:38:50.000Z" itemprop="datePublished">2016-08-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hexo/">hexo</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/23/reinstall-hexo-after-reinstall-OS/">重装系统后，修复hexo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><p>添加PATH，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/profile</div><div class="line">添加</div><div class="line">#node.js</div><div class="line">export PATH=$PATH:/path_to_nodejs/bin</div></pre></td></tr></table></figure>
</li>
<li><p>备份_config.yml 和 .git 和 .deploy_git/.git</p>
</li>
<li><p>依次执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">npm install hexo -g</div><div class="line">npm update hexo -g</div><div class="line">hexo init ~/myblog</div><div class="line"> </div><div class="line">npm install hexo-deployer-git --save</div><div class="line">npm install hexo-renderer-pug --save</div><div class="line">npm install hexo-renderer-sass --save</div></pre></td></tr></table></figure>
</li>
<li><p>还原_config.yml 和 .git 和 .deploy_git/.git</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/23/reinstall-hexo-after-reinstall-OS/" data-id="cje6pjw2u0069weyx0tc6qp9k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android_memory_leak" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/22/Android_memory_leak/" class="article-date">
  <time datetime="2016-08-22T15:31:26.000Z" itemprop="datePublished">2016-08-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>►<a class="article-category-link" href="/categories/Android/Android开发工程师/">Android开发工程师</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/22/Android_memory_leak/">Android内存泄漏</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/GeniusVJR/LearningNotes/blob/master/Part1/Android/Android%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E6%80%BB%E7%BB%93.md" target="_blank" rel="external">原文地址</a></p>
<h3 id="java内存分配策略"><a href="#java内存分配策略" class="headerlink" title="java内存分配策略"></a>java内存分配策略</h3><ul>
<li><p>静态存储区（方法区）：主要存放静态数据、全局 static 数据和常量。这块内存在程序编译时就已经分配好，并且在程序整个运行期间都存在。</p>
</li>
<li><p>栈区 ：当方法被执行时，方法体内的局部变量（其中包括基础数据类型、对象的引用）都在栈上创建，并在方法执行结束时这些局部变量所持有的内存将会自动被释放。因为栈内存分配运算内置于处理器的指令集中，效率很高，但是分配的内存容量有限。</p>
</li>
<li><p>堆区 ： 又称动态内存分配，通常就是指在程序运行时直接 new 出来的内存，也就是对象的实例。这部分内存在不使用时将会由 Java 垃圾回收器来负责回收。</p>
</li>
</ul>
<h3 id="java内存管理"><a href="#java内存管理" class="headerlink" title="java内存管理"></a>java内存管理</h3><p>有向图，GC清理不可达的对象<br>java回收机制：判断一个内存空间是否符合垃圾收集标准有两个：一个是给对象赋予了空值null，以下再没有调用过，另一个是给对象赋予了新值，这样重新分配了内存空间</p>
<h3 id="java内存泄漏"><a href="#java内存泄漏" class="headerlink" title="java内存泄漏"></a>java内存泄漏</h3><p>无用的可达对象持续占有内存或无用对象的内存得不到及时释放</p>
<p>长生命周期的对象持有短生命周期对象的引用就很可能发生内存泄漏，尽管短生命周期对象已经不再需要，但是因为长生命周期持有它的引用而导致不能被回收</p>
<h4 id="主要场景"><a href="#主要场景" class="headerlink" title="主要场景"></a>主要场景</h4><h5 id="静态集合类引起内存泄漏"><a href="#静态集合类引起内存泄漏" class="headerlink" title="静态集合类引起内存泄漏"></a>静态集合类引起内存泄漏</h5><p>静态变量的生命周期和应用程序一致，他们所引用的所有的对象Object也不能被释放<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Static Vector v = new Vector(10);</div><div class="line">for (int i = 1; i&lt;100; i++)</div><div class="line">&#123;</div><div class="line">Object o = new Object();</div><div class="line">v.add(o);</div><div class="line">o = null;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在这个例子中，循环申请Object 对象，并将所申请的对象放入一个Vector 中，如果仅仅释放引用本身（o=null），那么Vector 仍然引用该对象，所以这个对象对GC 来说是不可回收的。因此，如果对象加入到Vector 后，还必须从Vector 中删除，最简单的方法就是将Vector对象设置为null。</p>
<h5 id="Set的remove方法失效"><a href="#Set的remove方法失效" class="headerlink" title="Set的remove方法失效"></a>Set的remove方法失效</h5><p>集合里面的对象属性被修改后，再调用remove()方法时不起作用</p>
<h5 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h5><p>通常一个应用当中会用到很多监听器，我们会调用一个控件的诸如addXXXListener()等方法来增加监听器，但往往在释放对象的时候却没有记住去删除这些监听器，从而增加了内存泄漏的机会。</p>
<h5 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h5><p>比如数据库连接（dataSourse.getConnection()），网络连接(socket)和io连接，除非其显式的调用了其close（）方法将其连接关闭，否则是不会自动被GC 回收的。对于Resultset 和Statement 对象可以不进行显式回收，但Connection 一定要显式回收，因为Connection 在任何时候都无法自动回收，而Connection一旦回收，Resultset 和Statement 对象就会立即为NULL。但是如果使用连接池，情况就不一样了，除了要显式地关闭连接，还必须显式地关闭Resultset Statement 对象（关闭其中一个，另外一个也会关闭），否则就会造成大量的Statement 对象无法释放，从而引起内存泄漏。这种情况下一般都会在try里面去的连接，在finally里面释放连接。<br><a href="http://blog.csdn.net/bill_ming/article/details/7814841" target="_blank" rel="external">Android下常见的内存泄露 经典</a></p>
<h5 id="非静态内部类"><a href="#非静态内部类" class="headerlink" title="非静态内部类"></a>非静态内部类</h5><p>非静态内部类默认会持有外部类的引用，而如果该非静态内部类又创建了一个静态的实例，该实例的生命周期和应用的一样长。</p>
<h5 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h5><p>android开发经常会继承实现Activity/Fragment/View，如果使用了匿名类，并被异步线程持有了，此线程和此Acitivity生命周期不一致的时候，就造成了Activity的泄露。</p>
<h5 id="外部模块的引用"><a href="#外部模块的引用" class="headerlink" title="外部模块的引用"></a>外部模块的引用</h5><p>例如程序员A 负责A 模块，调用了B 模块的一个方法如： public void registerMsg(Object b); 这种调用就要非常小心了，传入了一个对象，很可能模块B就保持了对该对象的引用，这时候就需要注意模块B 是否提供相应的操作去除引用。</p>
<h5 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h5><p>单例对象在初始化后将在JVM的整个生命周期中存在（以静态变量的方式），如果单例对象持有外部的引用，那么这个对象将不能被JVM正常回收，导致内存泄漏</p>
<h5 id="handler"><a href="#handler" class="headerlink" title="handler"></a>handler</h5><p><a href="https://github.com/GeniusVJR/LearningNotes/blob/master/Part1/Android/Handler%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E5%88%86%E6%9E%90%E5%8F%8A%E8%A7%A3%E5%86%B3.md" target="_blank" rel="external">Handler内存泄漏分析及解决</a></p>
<p>Handler 属于 TLS(Thread Local Storage) 变量, 生命周期和 Activity 是不一致的。因此这种实现方式一般很难保证跟 View 或者 Activity 的生命周期保持一致，故很容易导致无法正确释放。</p>
<p>修复方法：在 Activity 中避免使用非静态内部类，比如将 Handler 声明为静态的，则其存活期跟 Activity 的生命周期就无关了。同时通过弱引用的方式引入 Activity，避免直接将 Activity 作为 context 传进去</p>
<p>在 Activity 的 Destroy 时或者 Stop 时应该移除消息队列 MessageQueue 中的消息。</p>
<p>下面几个方法都可以移除 Message：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public final void removeCallbacks(Runnable r);</div><div class="line"></div><div class="line">public final void removeCallbacks(Runnable r, Object token);</div><div class="line"></div><div class="line">public final void removeCallbacksAndMessages(Object token);</div><div class="line"></div><div class="line">public final void removeMessages(int what);</div><div class="line"></div><div class="line">public final void removeMessages(int what, Object object);</div></pre></td></tr></table></figure></p>
<h5 id="资源未关闭"><a href="#资源未关闭" class="headerlink" title="资源未关闭"></a>资源未关闭</h5><p>对于使用了BraodcastReceiver，ContentObserver，File，游标 Cursor，Stream，Bitmap等资源的使用，应该在Activity销毁时及时关闭或者注销，否则这些资源将不会被回收，造成内存泄漏。</p>
<p>Bitmap 没调用 recycle()方法，对于 Bitmap 对象在不使用时,我们应该先调用 recycle() 释放内存，然后才它设置为 null. 因为加载 Bitmap 对象的内存空间，一部分是 java 的，一部分 C 的（因为 Bitmap 分配的底层是通过 JNI 调用的 )。 而这个 recyle() 就是针对 C 部分的内存释放。 构造 Adapter 时，没有使用缓存的 convertView ,每次都在创建新的 converView。这里推荐使用 ViewHolder。</p>
<h5 id="避免使用static成员变量"><a href="#避免使用static成员变量" class="headerlink" title="避免使用static成员变量"></a>避免使用static成员变量</h5><p>如果成员变量被声明为 static，其生命周期将与整个app进程生命周期一样。不要在类初始时初始化静态成员。可以考虑lazy初始化。 </p>
<h5 id="避免-override-finalize"><a href="#避免-override-finalize" class="headerlink" title="避免 override finalize()"></a>避免 override finalize()</h5><ol>
<li><p>finalize 方法被执行的时间不确定，不能依赖与它来释放紧缺的资源。时间不确定的原因是： 虚拟机调用GC的时间不确定 Finalize daemon线程被调度到的时间不确定</p>
</li>
<li><p>finalize 方法只会被执行一次，即使对象被复活，如果已经执行过了 finalize 方法，再次被 GC 时也不会再执行了，原因是：<br>含有 finalize 方法的 object 是在 new 的时候由虚拟机生成了一个 finalize reference 在来引用到该Object的，而在 finalize 方法执行的时候，该 object 所对应的 finalize Reference 会被释放掉，即使在这个时候把该 object 复活(即用强引用引用住该 object )，再第二次被 GC 的时候由于没有了 finalize reference 与之对应，所以 finalize 方法不会再执行。</p>
</li>
<li><p>含有Finalize方法的object需要至少经过两轮GC才有可能被释放。</p>
</li>
</ol>
<h4 id="使用context的正确姿势"><a href="#使用context的正确姿势" class="headerlink" title="使用context的正确姿势"></a>使用context的正确姿势</h4><p><img src="https://camo.githubusercontent.com/dee4aecb8a80c4e73337b56ee01cbffa2a8049dd/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f32303135313132333134343232363334393f73706d3d353137362e3130303233392e626c6f67636f6e742e392e437455316334" alt=""><br>对 Activity 等组件的引用应该控制在 Activity 的生命周期之内； 如果不能就考虑使用 getApplicationContext 或者 getApplication，以避免 Activity 被外部长生命周期的对象引用而泄露。</p>
<h4 id="java对象的几种引用类型"><a href="#java对象的几种引用类型" class="headerlink" title="java对象的几种引用类型"></a>java对象的几种引用类型</h4><p><img src="https://camo.githubusercontent.com/068950c506eddc68677d6a84b5d7ffe1c03c6cf9/68747470733a2f2f67772e616c6963646e2e636f6d2f7470732f5442315536544e4c565858585863685846585858585858585858582d3634342d3534362e6a7067" alt=""><br>如果只是想避免OutOfMemory异常的发生，则可以使用软引用。如果对于应用的性能更在意，想尽快回收一些占用内存比较大的对象，则可以使用弱引用。</p>
<p>另外可以根据对象是否经常使用来判断选择软引用还是弱引用。如果该对象可能会经常使用的，就尽量用软引用。如果该对象不被使用的可能性更大些，就可以用弱引用。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/22/Android_memory_leak/" data-id="cje6pjw0g000aweyxj1nz5bc1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android开发工程师/">Android开发工程师</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android1_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/18/Android1_1/" class="article-date">
  <time datetime="2016-08-18T10:16:31.000Z" itemprop="datePublished">2016-08-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>►<a class="article-category-link" href="/categories/Android/Android开发工程师/">Android开发工程师</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/18/Android1_1/">Android基础知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/GeniusVJR/LearningNotes/blob/master/Part1/Android/Android%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.md" title="地址" target="_blank" rel="external">链接地址</a></p>
<h3 id="五种界面布局"><a href="#五种界面布局" class="headerlink" title="五种界面布局"></a>五种界面布局</h3><p><strong> </strong>FrameLayout 、 LinearLayout 、 AbsoluteLayout 、 RelativeLayout 、 TableLayout</p>
<h3 id="Activity生命周期"><a href="#Activity生命周期" class="headerlink" title="Activity生命周期"></a>Activity生命周期</h3><h3 id="Activity-launchMode"><a href="#Activity-launchMode" class="headerlink" title="Activity launchMode"></a>Activity launchMode</h3><p><code>standard|singleInstance|singleTask|singleTop</code></p>
<h3 id="使用onSaveInstanceState-Bundle-outState-和onRestoreInstanceState-Bundle-outState-缓存activiry"><a href="#使用onSaveInstanceState-Bundle-outState-和onRestoreInstanceState-Bundle-outState-缓存activiry" class="headerlink" title="使用onSaveInstanceState(Bundle outState)和onRestoreInstanceState (Bundle outState)缓存activiry"></a>使用onSaveInstanceState(Bundle outState)和onRestoreInstanceState (Bundle outState)缓存activiry</h3><h3 id="Fragment-Activity生命周期"><a href="#Fragment-Activity生命周期" class="headerlink" title="Fragment+Activity生命周期"></a>Fragment+Activity生命周期</h3><p>创建时</p>
<p>Fragment先做一些准备工作，包括onAttach,onCreate,onCreateVIew,onViewCreated</p>
<p>Activity开始onCreate,onStart,onResume,Fragment跟随</p>
<p>销毁时</p>
<p>Fragment先onPause,onStop,onDestory,Activity跟随</p>
<p><img src="https://raw.githubusercontent.com/GeniusVJR/LearningNotes/master/Part1/Android/FlowchartDiagram.jpg" alt=""></p>
<h3 id="Intent传递数据"><a href="#Intent传递数据" class="headerlink" title="Intent传递数据"></a>Intent传递数据</h3><h3 id="Service两种启动方式"><a href="#Service两种启动方式" class="headerlink" title="Service两种启动方式"></a>Service两种启动方式</h3><p>bindService    startService</p>
<h3 id="广播的静态注册和动态注册"><a href="#广播的静态注册和动态注册" class="headerlink" title="广播的静态注册和动态注册"></a>广播的静态注册和动态注册</h3><h3 id="ContentProvider使用方法"><a href="#ContentProvider使用方法" class="headerlink" title="ContentProvider使用方法"></a>ContentProvider使用方法</h3><h3 id="Service保活"><a href="#Service保活" class="headerlink" title="Service保活"></a>Service保活</h3><h3 id="Context区别"><a href="#Context区别" class="headerlink" title="Context区别"></a>Context区别</h3><p>Context的数量等于Activity的个数 + Service的个数 + 1，这个1为Application</p>
<h3 id="IntentService"><a href="#IntentService" class="headerlink" title="IntentService"></a>IntentService</h3><h2 id="新增"><a href="#新增" class="headerlink" title="新增"></a>新增</h2><h3 id="图片三级缓存，优化多图应用"><a href="#图片三级缓存，优化多图应用" class="headerlink" title="图片三级缓存，优化多图应用"></a>图片三级缓存，优化多图应用</h3><p>适用与有大量从网上下载图片在本地展示的应用</p>
<h4 id="三级缓存"><a href="#三级缓存" class="headerlink" title="三级缓存"></a>三级缓存</h4><ol>
<li>内存缓存，优先加载，速度最快</li>
</ol>
<p>内存缓存需要小心内存溢出，所以要避免使用HashMap<string,bitmap>这种键值对的方式，无论使用强引用，软引用还是弱引用，都容易引起内存溢出。</string,bitmap></p>
<p>官方推荐使用LruCache<string,bitmap>，内存控制在一定的大小内, 超出最大值时会自动回收, 这个最大值开发者自己定</string,bitmap></p>
<ol>
<li>本地缓存，次优先加载，速度较快，图片存在本地存储设备中</li>
<li>网络获取，最后选择，速度慢，使用流量</li>
</ol>
<h4 id="两个例子"><a href="#两个例子" class="headerlink" title="两个例子"></a>两个例子</h4><p><a href="http://blog.csdn.net/xiaanming/article/details/9825113" target="_blank" rel="external">线程池管理下载任务+LruCache缓存+本地缓存+GridView滑动取消下载，静止进行下载</a></p>
<p><a href="http://blog.csdn.net/guolin_blog/article/details/9526203#comments" target="_blank" rel="external">照片墙</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/18/Android1_1/" data-id="cje6pjw0f0008weyxtxm5z7lf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android开发工程师/">Android开发工程师</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-build_shadowsocks" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/05/build_shadowsocks/" class="article-date">
  <time datetime="2016-08-05T02:43:19.000Z" itemprop="datePublished">2016-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/05/build_shadowsocks/">配置shadowsocks</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h2><h3 id="Ubuntu安装shadowsocks"><a href="#Ubuntu安装shadowsocks" class="headerlink" title="Ubuntu安装shadowsocks"></a>Ubuntu安装shadowsocks</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install python-pip</div><div class="line">sudo pip install shadowsocks</div></pre></td></tr></table></figure>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/shadowsocks.json</div></pre></td></tr></table></figure>
<p>内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    // 服务器的IP</div><div class="line">    &quot;server&quot;: &quot;xxx.xxx.xxx.xxx&quot;,</div><div class="line">    // 本地的IP，默认为127.0.0.1</div><div class="line">    &quot;local_address&quot;: &quot;127.0.0.1&quot;,</div><div class="line">    // 本地端口</div><div class="line">    &quot;local_port&quot;: 1080,</div><div class="line">    //服务器端口与密码，这是配置多个端口的方法</div><div class="line">    &quot;port_password&quot;: &#123;</div><div class="line">        &quot;9001&quot;:&quot;123456&quot;,</div><div class="line">        &quot;9002&quot;:&quot;123456&quot;,</div><div class="line">        &quot;9003&quot;:&quot;123456&quot;,</div><div class="line">        &quot;9004&quot;:&quot;123456&quot;,</div><div class="line">        &quot;9005&quot;:&quot;123456&quot;</div><div class="line">    &#125;,</div><div class="line">    // 超时时间，单位是秒，不是毫秒</div><div class="line">    &quot;timeout&quot;: 200,</div><div class="line">    // 加密方法</div><div class="line">    &quot;method&quot;: &quot;aes-256-cfb&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="服务器运行"><a href="#服务器运行" class="headerlink" title="服务器运行"></a>服务器运行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssserver -c /etc/shadowsocks.json</div></pre></td></tr></table></figure>
<h3 id="自动启动"><a href="#自动启动" class="headerlink" title="自动启动"></a>自动启动</h3><p>为服务器端配置开机自动启动shadowsocks<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/rc.local</div></pre></td></tr></table></figure></p>
<p>在 exit 0 这一行之前，加上<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/bin/python /usr/local/bin/ssserver -c /etc/shadowsocks.json</div></pre></td></tr></table></figure></p>
<h2 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h2><h3 id="安装shadowsocks"><a href="#安装shadowsocks" class="headerlink" title="安装shadowsocks"></a>安装shadowsocks</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install python-pip python-m2crypto</div><div class="line">pip install --upgrade pip</div><div class="line">sudo pip install setuptools</div><div class="line">sudo pip install shadowsocks</div></pre></td></tr></table></figure>
<h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir shadowsocks</div><div class="line">cd shadowsocks</div><div class="line">sudo vim shadowsocks.json</div></pre></td></tr></table></figure>
<p>内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">        &quot;server&quot;: &quot;服务器ip&quot;,</div><div class="line">        &quot;server_port&quot;: 选一个服务器端口,</div><div class="line">        &quot;local_port&quot;: 1080,</div><div class="line">        &quot;password&quot;: &quot;与服务器端口对应的密码&quot;,</div><div class="line">        &quot;timeout&quot;: 200,</div><div class="line">        &quot;method&quot;: &quot;aes-256-cfb&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="运行shadowsocks"><a href="#运行shadowsocks" class="headerlink" title="运行shadowsocks"></a>运行shadowsocks</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sslocal -c ~/shadowsocks/shadowsocks.json</div></pre></td></tr></table></figure>
<h3 id="设置全局PAC模式"><a href="#设置全局PAC模式" class="headerlink" title="设置全局PAC模式"></a>设置全局PAC模式</h3><p>安装genpac<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo pip install genpac</div></pre></td></tr></table></figure></p>
<p>生成pac文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">genpac -p &quot;SOCKS5 127.0.0.1:1080&quot; --gfwlist-proxy=&quot;SOCKS5 127.0.0.1:1080&quot;  --gfwlist-url=&quot;https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt&quot;  --output=&quot;~/shadowsocks/autoproxy.pac&quot;</div></pre></td></tr></table></figure></p>
<p>pac文件生成成功后，需要在系统设置中设置该文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">在 系统设置 -&gt; 网络 -&gt; 网络代理 中选则 方法 为 自动，然后在下面URL填入</div><div class="line">file:///home/xxx/shadowsocks/autoproxy.pac</div><div class="line">其中xxx为自己的用户名，完成之后，即可使用PAC文件进行科学上网。</div></pre></td></tr></table></figure></p>
<h3 id="为Chromium安装Proxy-Switchymega插件"><a href="#为Chromium安装Proxy-Switchymega插件" class="headerlink" title="为Chromium安装Proxy Switchymega插件"></a>为Chromium安装Proxy Switchymega插件</h3><p>全局很方便，然而mint系统并不能如此愉快的玩耍，所以为浏览器单独安装插件吧</p>
<p><a href="https://github.com/FelisCatus/SwitchyOmega/releases/download/v2.4.2/SwitchyOmega.crx" target="_blank" rel="external">download</a></p>
<p>下载完成后，浏览器打开chrome://extensions/<br>直接把下载好的文件拖进去</p>
<p>配置方法：</p>
<ol>
<li>选择New profile</li>
<li>起个名字，比如ss</li>
<li>Protocol选择SOCKS5</li>
<li>Server 填写127.0.0.1</li>
<li>Port填写 1080</li>
<li>點擊左側的Apply changes </li>
<li>接下來訪問網頁的時候，點擊地址欄右邊的圓圈，選擇剛纔新建好的ss，就可以了</li>
</ol>
<h2 id="vps购买相关"><a href="#vps购买相关" class="headerlink" title="vps购买相关"></a>vps购买相关</h2><p>说了半天还不知道服务器在哪里。。。<br>来，<a href="https://www.kvmla.com" target="_blank" rel="external">https://www.kvmla.com</a></p>
<p>买个便宜的VPS，记得操作系统选Ubuntu系列的，最好最新版，还有32位，64位要看好。我选的Ubuntu-14.04-x86_64</p>
<p>支持支付宝付款，真是适合中国国情啊</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/05/build_shadowsocks/" data-id="cje6pjw12001rweyx5kbu5es2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shadowsocks-vps/">shadowsocks/vps</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-change-hexo-theme-to-maupassant" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/24/change-hexo-theme-to-maupassant/" class="article-date">
  <time datetime="2016-07-24T13:35:36.000Z" itemprop="datePublished">2016-07-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hexo/">hexo</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/24/change-hexo-theme-to-maupassant/">对我的Blog做了点改动</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="将整个blog项目的源码递交到github"><a href="#将整个blog项目的源码递交到github" class="headerlink" title="将整个blog项目的源码递交到github"></a>将整个blog项目的源码递交到github</h3><p>修改了blog_backup的目录结构，本来只有source一个目录，现在相当于回退一级，将整个myblog项目都递交到github上</p>
<p>因为之前在source目录中已经有项目的.git，所以，直接将它拷贝到myblog下，然后直接递交了。</p>
<p>后来试了一下从头递交的流程，已经更新之前的使用hexo搭建blog那片文章里面</p>
<h3 id="修改theme为maupassant"><a href="#修改theme为maupassant" class="headerlink" title="修改theme为maupassant"></a>修改theme为maupassant</h3><p>看了一天的各种theme，挑了一个好看的，yilia其实很好看，然则不知道为什么，头像就是无法设置，本地hexo server都能显示正常，一递交到网络，直接访问blog，就不显示头像，想了很多方法，找了资料，没有解决，还是不浪费时间了。</p>
<p>换了maupassant主题，看着还不错。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git clone https://github.com/tufu9441/maupassant-hexo.git themes/maupassant</div><div class="line">$ npm install hexo-renderer-jade --save</div><div class="line">$ npm install hexo-renderer-sass --save</div></pre></td></tr></table></figure>
<p>这两行npm install是个坑，一不小心忘了执行，结果搞坏了代码，修复了好几个小时阿。。。</p>
<p>幸好rom项目的代码没有牵扯到换theme，幸免于难 </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/24/change-hexo-theme-to-maupassant/" data-id="cje6pjw14001wweyxa9n8l0uz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-make_blog_with_hexo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/19/make_blog_with_hexo/" class="article-date">
  <time datetime="2016-07-19T14:44:08.000Z" itemprop="datePublished">2016-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hexo/">hexo</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/19/make_blog_with_hexo/">使用hexo搭建blog</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h2><p>由于node.js官网打不开，使用一个国内的地址替代<br><a href="http://nodejs.cn" target="_blank" rel="external">http://nodejs.cn</a></p>
<p>Linux(x64)版本node.js下载地址：<a href="https://nodejs.org/dist/v6.2.0/node-v6.2.0-linux-x64.tar.gz" target="_blank" rel="external">https://nodejs.org/dist/v6.2.0/node-v6.2.0-linux-x64.tar.gz</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ tar xvf node-v6.2.0-linux-x64.tar.gz)</div><div class="line">$ cd node-v6.2.0-linux-x64.tar.gz</div><div class="line">$ cd bin</div><div class="line">$ ./node -v</div><div class="line">v6.2.0</div></pre></td></tr></table></figure>
<p>将bin添加到PATH中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vim /etc/profile</div></pre></td></tr></table></figure>
<p>添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#node.js</div><div class="line">export PATH=$PATH:/path_to_nodejs/bin</div></pre></td></tr></table></figure>
<h2 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h2><h2 id="申请github帐号"><a href="#申请github帐号" class="headerlink" title="申请github帐号"></a>申请github帐号</h2><h2 id="添加SSH-Keys"><a href="#添加SSH-Keys" class="headerlink" title="添加SSH Keys"></a>添加SSH Keys</h2><h2 id="安装-hexo"><a href="#安装-hexo" class="headerlink" title="安装 hexo"></a>安装 hexo</h2><p>首选官网攻略：<a href="https://hexo.io/docs/" target="_blank" rel="external">hexo官网教程</a><br>官网打不开就：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo npm install -g hexo-cli </div><div class="line">npm update hexo -g</div><div class="line">hexo init &lt;folder&gt;</div></pre></td></tr></table></figure></p>
<p>如果指定 <folder>，便会在目前的资料夹建立一个名为 <folder> 的新资料夹；否则会在目前资料夹初始化，最好指定，不然可能安装到HOME下去<br>我安装到了myblog。</folder></folder></p>
<h2 id="创建新博文"><a href="#创建新博文" class="headerlink" title="创建新博文"></a>创建新博文</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new &quot;Hey,man&quot;</div></pre></td></tr></table></figure>
<h2 id="创建新页面"><a href="#创建新页面" class="headerlink" title="创建新页面"></a>创建新页面</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new page &quot;firstPage&quot;</div></pre></td></tr></table></figure>
<h2 id="生成网站"><a href="#生成网站" class="headerlink" title="生成网站"></a>生成网站</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo generate</div></pre></td></tr></table></figure>
<h2 id="打开服务器"><a href="#打开服务器" class="headerlink" title="打开服务器"></a>打开服务器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo server</div></pre></td></tr></table></figure>
<p>服务器会跑在 <a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a> (默认4000端口，可在_config.yml中设定)</p>
<h1 id="配置github"><a href="#配置github" class="headerlink" title="配置github"></a>配置github</h1><h2 id="建立repository"><a href="#建立repository" class="headerlink" title="建立repository"></a>建立repository</h2><p>建立与你github的用户名对应的仓库，仓库名必须为your_user_name.github.io，固定写法 然后建立关联<br>编辑本地hexo文件夹下的_config.yml文件<br>修改最底下的几行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repository: https://github.com/your_github_name/your_github_name.github.io.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure>
<p>注意：将your_github_name 替换为你的github名，或者整个地址替换为github上该repository的地址</p>
<h2 id="将本地的网站部署到git上"><a href="#将本地的网站部署到git上" class="headerlink" title="将本地的网站部署到git上"></a>将本地的网站部署到git上</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div><div class="line">hexo deploy</div></pre></td></tr></table></figure>
<h2 id="查看部署结果"><a href="#查看部署结果" class="headerlink" title="查看部署结果"></a>查看部署结果</h2><p>在浏览器中访问 <a href="http://your_github_name.github.io" target="_blank" rel="external">http://your_github_name.github.io</a><br>注意替换your_github_name</p>
<h2 id="部署命令"><a href="#部署命令" class="headerlink" title="部署命令"></a>部署命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo clean</div><div class="line">hexo generate</div><div class="line">hexo deploy</div></pre></td></tr></table></figure>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">hexo new &quot;postName&quot; #新建文章</div><div class="line">hexo new page &quot;pageName&quot; #新建页面</div><div class="line">hexo generate #生成静态页面至public目录</div><div class="line">hexo server #开启预览访问端口（默认端口4000，&apos;ctrl + c&apos;关闭server）</div><div class="line">hexo deploy #将.deploy目录部署到GitHub</div><div class="line">hexo help  # 查看帮助</div><div class="line">hexo version  #查看Hexo的版本</div></pre></td></tr></table></figure>
<h2 id="使用ssh替代https，避免每次deploy都要输入username和password"><a href="#使用ssh替代https，避免每次deploy都要输入username和password" class="headerlink" title="使用ssh替代https，避免每次deploy都要输入username和password"></a>使用ssh替代https，避免每次deploy都要输入username和password</h2><p>在github的该repository目录中，点击 Clone or download, 选择Use SSH，复制地址。</p>
<p>修改_config.yml,拖到最后，将repository: 后面的https地址，换为ssh的地址。</p>
<p>修改hexo/.deploy_git/.git/config 将remote = 后面的https地址，换为ssh地址。</p>
<p>再次运行hexo deploy，应该会直接递交成功，不需要输入username和password。</p>
<h1 id="部分目录说明"><a href="#部分目录说明" class="headerlink" title="部分目录说明"></a>部分目录说明</h1><p>source/ 目录下放着新建的页面</p>
<p>source/_posts/ 目录下放着发布的博文，使用markdown格式，可使用相关编辑器编写内容</p>
<p>public/ 目录对应着github上的目录结构</p>
<p>_config.yml 配置文件，可以在其中修改blog名之类的，注意每一项配置的:后面是有空格的。</p>
<h1 id="将整个项目同步到Github"><a href="#将整个项目同步到Github" class="headerlink" title="将整个项目同步到Github"></a>将整个项目同步到Github</h1><p>在ithub上新建一个repository，命名blog_backup<br>git@github.com:IChrisKing/blog_backup.git<br>根据github的提示，在myblog下，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git init</div><div class="line">git status</div><div class="line">git add XXXXXXXXXXXX</div><div class="line">git commit &quot;upload all hexo source&quot;</div><div class="line">git remote add origin git@github.com:IChrisKing/blog_backup.git</div><div class="line">git push -u origin master</div></pre></td></tr></table></figure>
<p>以后每次修改都需要在myblog中进行一次递交，递交到github的blog_backup项目</p>
<p>并且在修改了_config.yml中的message内容有，使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo deploy -g</div></pre></td></tr></table></figure>
<p>进行一次递交，这次递交是到github中的blog项目</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/19/make_blog_with_hexo/" data-id="cje6pjw1n0034weyxnzv8h2un" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/5/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/7/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-everyday/">Android_everyday</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android开发工程师/">Android开发工程师</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/AndroidRom/">AndroidRom</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Anrom/">Anrom</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Anrom/rom7-0/">rom7.0</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/Android开发工程师/">Android开发工程师</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SEAndroid/">SEAndroid</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/cjdns/">cjdns</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/cjdns/cjdns源码分析/">cjdns源码分析</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/cjdns-cjdns源码分析/">cjdns - cjdns源码分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/music/">music</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/net/">net</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/net/iptables/">iptables</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/树莓派/">树莓派</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/树莓派/配置/">配置</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/算法/Java/">Java</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/Java/">Java</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-everyday/">Android_everyday</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android开发工程师/">Android开发工程师</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Anrom/">Anrom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-C/">C/C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEAndroid/">SEAndroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SELinux/">SELinux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cjdns/">cjdns</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cjdns源码分析/">cjdns源码分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iptables/">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/music/">music</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberry配置/">raspberry配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rom/">rom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shadowsocks-vps/">shadowsocks/vps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/">tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/填坑/">填坑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排序算法/">排序算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/查找算法/">查找算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树莓派raspberry/">树莓派raspberry</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Android-everyday/" style="font-size: 16.67px;">Android_everyday</a> <a href="/tags/Android开发工程师/" style="font-size: 15.56px;">Android开发工程师</a> <a href="/tags/Anrom/" style="font-size: 14.44px;">Anrom</a> <a href="/tags/C-C/" style="font-size: 14.44px;">C/C++</a> <a href="/tags/Java/" style="font-size: 18.89px;">Java</a> <a href="/tags/Linux/" style="font-size: 13.33px;">Linux</a> <a href="/tags/SEAndroid/" style="font-size: 10px;">SEAndroid</a> <a href="/tags/SELinux/" style="font-size: 10px;">SELinux</a> <a href="/tags/cjdns/" style="font-size: 14.44px;">cjdns</a> <a href="/tags/cjdns源码分析/" style="font-size: 14.44px;">cjdns源码分析</a> <a href="/tags/git/" style="font-size: 11.11px;">git</a> <a href="/tags/hexo/" style="font-size: 13.33px;">hexo</a> <a href="/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/music/" style="font-size: 10px;">music</a> <a href="/tags/raspberry配置/" style="font-size: 10px;">raspberry配置</a> <a href="/tags/rom/" style="font-size: 10px;">rom</a> <a href="/tags/shadowsocks-vps/" style="font-size: 10px;">shadowsocks/vps</a> <a href="/tags/tool/" style="font-size: 11.11px;">tool</a> <a href="/tags/填坑/" style="font-size: 13.33px;">填坑</a> <a href="/tags/排序算法/" style="font-size: 11.11px;">排序算法</a> <a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a> <a href="/tags/查找算法/" style="font-size: 11.11px;">查找算法</a> <a href="/tags/树莓派raspberry/" style="font-size: 11.11px;">树莓派raspberry</a> <a href="/tags/算法/" style="font-size: 12.22px;">算法</a> <a href="/tags/设计模式/" style="font-size: 17.78px;">设计模式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/29/cjnds-asymmetric-cryptography/">握手过程中，非对称密钥的应用</a>
          </li>
        
          <li>
            <a href="/2017/12/04/how-to-fix-rebase-still-in-progress/">如何解决报错“prior sync failed; rebase still in progress”</a>
          </li>
        
          <li>
            <a href="/2017/11/22/cjdns-3steps-lladdrsession/">使用SocketAddress来维护的EndpointsBySockaddr map机制中EndpointsBySockaddr session的建立过程</a>
          </li>
        
          <li>
            <a href="/2017/09/05/cjdns-cryptoauth/">cjdns源码分析--CryptoAuth</a>
          </li>
        
          <li>
            <a href="/2017/09/04/how-to-read-staff/">如何看懂五线谱</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Chris King<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>